"use strict";(self.webpackChunkcarbondesignsystem=self.webpackChunkcarbondesignsystem||[]).push([[49688],{28399:function(e,t,a){a.d(t,{Z:function(){return w}});var n=a(67294),o=a(88650),i=a.n(o),r=a(1597),l=a(80304),s=a(94656),p=a(75900),c=a.n(p);var u=e=>{let{title:t,theme:a,tabs:o=[]}=e;return n.createElement("div",{className:c()("PageHeader-module--page-header--NqfPe",{"PageHeader-module--with-tabs--vbQ-W":o.length,"PageHeader-module--dark-mode--WCeH8":"dark"===a})},n.createElement("div",{className:"cds--grid"},n.createElement("div",{className:"cds--row"},n.createElement("div",{className:"cds--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},t)))))};var d=e=>{let{relativePagePath:t,repository:a}=e;const{site:{siteMetadata:{repository:o}}}=(0,r.useStaticQuery)("1364590287"),{baseUrl:i,subDirectory:l,branch:s}=a||o,p=`${i}/edit/${s}${l}/src/pages${t}`;return i?n.createElement("div",{className:"cds--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"cds--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:p},"Edit this page on GitHub"))):null},h=a(56328),m=a(51721);let g=function(e){function t(){return e.apply(this,arguments)||this}return(0,m.Z)(t,e),t.prototype.render=function(){const{title:e,tabs:t,slug:a}=this.props,o=a.split("/").filter(Boolean).slice(-1)[0],l=t.map((e=>{const t=i()(e,{lower:!0,strict:!0}),l=t===o,s=new RegExp(`${o}/?(#.*)?$`),p=a.replace(s,t);return n.createElement("li",{key:e,className:c()({"PageTabs-module--selected-item--aBB0K":l},"PageTabs-module--list-item--024o6")},n.createElement(r.Link,{className:"PageTabs-module--link--Kz-7R",to:`${p}`},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"cds--grid"},n.createElement("div",{className:"cds--row"},n.createElement("div",{className:"cds--col-lg-12 cds--col-no-gutter"},n.createElement("nav",{"aria-label":e},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},l))))))},t}(n.Component);var b=g,k=a(17680),f=a(75387),y=a(50041);var N=e=>{let{date:t}=e;const a=new Date(t);return t?n.createElement(y.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(y.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};var w=e=>{let{pageContext:t,children:a,location:o,Title:p}=e;const{frontmatter:c={},relativePagePath:m,titleType:g}=t,{tabs:y,title:w,theme:v,description:C,keywords:E,date:A}=c,{interiorTheme:T}=(0,f.Z)(),{site:{pathPrefix:P}}=(0,r.useStaticQuery)("2456312558"),x=P?o.pathname.replace(P,""):o.pathname,I=y?x.split("/").filter(Boolean).slice(-1)[0]||i()(y[0],{lower:!0}):"",B=v||T;return n.createElement(s.Z,{tabs:y,homepage:!1,theme:B,pageTitle:w,pageDescription:C,pageKeywords:E,titleType:g},n.createElement(u,{title:p?n.createElement(p,null):w,label:"label",tabs:y,theme:B}),y&&n.createElement(b,{title:w,slug:x,tabs:y,currentTab:I}),n.createElement(k.Z,{padded:!0},a,n.createElement(d,{relativePagePath:m}),n.createElement(N,{date:A})),n.createElement(h.Z,{pageContext:t,location:o,slug:x,tabs:y,currentTab:I}),n.createElement(l.Z,null))}},79898:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return b}});var n=a(45987),o=(a(67294),a(64983)),i=a(28399),r=a(80941);const l=["components"],s={},p=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)},c=p("PageDescription"),u=p("InlineNotification"),d=p("AnchorLinks"),h=p("AnchorLink"),m={_frontmatter:s},g=i.Z;function b(e){let{components:t}=e,a=(0,n.Z)(e,l);return(0,o.kt)(g,Object.assign({},m,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(c,{mdxType:"PageDescription"},(0,o.kt)("p",null,"This step takes what we’ve built so far and optimizes the app for a production\nenvironment. We’ll be deploying the production build to IBM Cloud.")),(0,o.kt)(u,{mdxType:"InlineNotification"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," The following tutorial instructions are based on our v10 packages and\nhave not been updated to reflect changes for our next major version.")),(0,o.kt)(d,{mdxType:"AnchorLinks"},(0,o.kt)(h,{mdxType:"AnchorLink"},"Fork, clone and branch"),(0,o.kt)(h,{mdxType:"AnchorLink"},"Build for production"),(0,o.kt)(h,{mdxType:"AnchorLink"},"Deploying to Github Pages"),(0,o.kt)(h,{mdxType:"AnchorLink"},"Submit pull request")),(0,o.kt)("h2",null,"Preview"),(0,o.kt)("p",null,"A ",(0,o.kt)("a",{parentName:"p",href:"https://react-step-6--carbon-tutorial.netlify.com"},"preview")," of what you’ll\nbuild (visually no different, but built for production):"),(0,o.kt)(r.Z,{height:"400",title:"Carbon Tutorial Step 5",src:"https://react-step-6--carbon-tutorial.netlify.com",frameBorder:"no",allowtransparency:"true",allowFullScreen:"true",mdxType:"Preview"}),(0,o.kt)("h2",null,"Fork, clone and branch"),(0,o.kt)("p",null,"This tutorial has an accompanying GitHub repository called\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/carbon-design-system/carbon-tutorial"},"carbon-tutorial")," that\nwe’ll use as a starting point for each step. If you haven’t forked and cloned\nthat repository yet, and haven’t added the upstream remote, go ahead and do so\nby following the\n",(0,o.kt)("a",{parentName:"p",href:"/developing/react-tutorial/step-1#fork-clone-and-branch"},"step 1 instructions"),"."),(0,o.kt)("h3",null,"Branch"),(0,o.kt)("p",null,"With your repository all set up, let’s check out the branch for this tutorial\nstep’s starting point."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git fetch upstream\ngit checkout -b v11-react-step-5 upstream/v11-react-step-5\n")),(0,o.kt)(u,{mdxType:"InlineNotification"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," This builds on top of step 4, but be sure to check out the upstream\nstep 5 branch because it includes the static assets required to get through this\nstep.")),(0,o.kt)("h3",null,"Build and start app"),(0,o.kt)("p",null,"Install the app’s dependencies (in case you’re starting fresh in your current\ndirectory and not continuing from the previous step):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn\n")),(0,o.kt)("p",null,"Then, start the app:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn start\n")),(0,o.kt)("p",null,"You should see something similar to where the\n",(0,o.kt)("a",{parentName:"p",href:"/developing/react-tutorial/step-4"},"previous step")," left off."),(0,o.kt)("h2",null,"Build for production"),(0,o.kt)("p",null,"Before we deploy our app, we need to create an optimized production build with\nthis command. You may need to ",(0,o.kt)("inlineCode",{parentName:"p"},"CTRL-C")," to stop the development environment\nfirst."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn build\n")),(0,o.kt)("p",null,"Looking at ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json"),", you’ll find ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn build")," to run\n",(0,o.kt)("inlineCode",{parentName:"p"},"react-scripts build"),". This builds the app for production to the ",(0,o.kt)("inlineCode",{parentName:"p"},"build")," folder.\nIt bundles React in production mode and optimizes the build for the best\nperformance. It even goes so far to minify files and include hashes in filenames\nfor caching."),(0,o.kt)("p",null,"As a lot of this may seem like magic since the build configuration came from\nCreate React App, go ahead and check out their\n",(0,o.kt)("a",{parentName:"p",href:"https://facebook.github.io/create-react-app/docs/production-build"},"production build guidelines"),"\nfor a full description of what’s happening."),(0,o.kt)("h2",null,"Deploying to Github Pages"),(0,o.kt)("p",null,"Next we’ll be deploying to\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages"},"GitHub Pages"),"\nwhich allows you to host your files directly from your repository in GitHub."),(0,o.kt)("p",null,"If you forked the tutorial earlier by copying only the ",(0,o.kt)("inlineCode",{parentName:"p"},"main")," branch, you will\nhave to create a ",(0,o.kt)("inlineCode",{parentName:"p"},"gh-pages")," branch with the following steps. Otherwise, if you\nalready have an existing ",(0,o.kt)("inlineCode",{parentName:"p"},"gh-pages")," branch (you can easily check by going to\nyour repository on ",(0,o.kt)("inlineCode",{parentName:"p"},"github.com")," and checking the existing branches), skip the\nfollowing ",(0,o.kt)("inlineCode",{parentName:"p"},"git")," commands."),(0,o.kt)("p",null,"To do this, we’ll first commit our ",(0,o.kt)("inlineCode",{parentName:"p"},"build")," folder so that git knows we have a\nsubtree (subfolder with our site)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'git add build && git commit -m "chore(deploy): publish build files"\n')),(0,o.kt)("p",null,"Then we’ll use ",(0,o.kt)("inlineCode",{parentName:"p"},"subtree push")," to push to the ",(0,o.kt)("inlineCode",{parentName:"p"},"gh-pages")," branch on Github."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git subtree push --prefix build origin gh-pages\n")),(0,o.kt)("p",null,"To have GitHub Pages point to the ",(0,o.kt)("inlineCode",{parentName:"p"},"gh-pages")," branch, go to your forked Carbon\ntutorial repository on ",(0,o.kt)("inlineCode",{parentName:"p"},"github.com"),". Go to your “Settings” and under the “Pages”\ntab, specify the branch, ",(0,o.kt)("inlineCode",{parentName:"p"},"gh-pages"),", as your source."),(0,o.kt)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",(0,o.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"63.541666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB7klEQVQ4y2WTi27bMAxF/f8/13YbsAHb0K5rnfgRWw/qLfkOpJ0gawUcMJIc6V6S6gx5XFYtaOskrtpCGRL498Iog0VpiavSOPcnGEMIKcPHBB+z0EWeeI+2bdgOUsqYpwnDeUCMEZ/GBqBte7wuHf/tQogIMcqk1iqbuVQMymNaNZTRcMHBOivQgSUL8gRDBiEGtK3tBxI5nIcBwzjCOScHhpbwI77iq/qJp8t3PK6/8aBehMdbfMaTfsHD+oxv9g9+lVdQ8+hYndJGbF9HzAmTmWEzwWYHkx109tDJQScPlRxUDjAlguqOawF1q7vCdVW3HIjlXHAeJvT9gGGYhGmcobUFWUIKAS42HBn6b3TGGIzjhNbabTGlhL9v7zidBzw+fcE0zzCWYKyF8QWl7ZXZts9047zi7b2H8wGlVinIrnDEOM3gouWc5SK+9ENxPyskF+BDRCkF3EK1NWmb/nTGOE0IbM95WEsg2uE55/wauQ8pNrS2odPGoO9P4MibLJuVxJQEvogv5FwHcsil7ErvqLWh1MOyD0E+vm9Q/mi+LJjmC7wP0qeMP3qWVfO6815c7cU8DrREYu3jiyDnpZ203p8aoyQaLMZLzlkM5/i+oB05h2VZoJQSe1e4EFyc+7XbXqlic7dc5YVd9/4BXNrwWzgtvTAAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,o.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Screenshot of Github settings dashboard",title:"Screenshot of Github settings dashboard",src:"/static/618fdf7a5688da6be1bedfe13808ae33/3cbba/deploy-on-github-pages.png",srcSet:["/static/618fdf7a5688da6be1bedfe13808ae33/7fc1e/deploy-on-github-pages.png 288w","/static/618fdf7a5688da6be1bedfe13808ae33/a5df1/deploy-on-github-pages.png 576w","/static/618fdf7a5688da6be1bedfe13808ae33/3cbba/deploy-on-github-pages.png 1152w","/static/618fdf7a5688da6be1bedfe13808ae33/0b124/deploy-on-github-pages.png 1728w","/static/618fdf7a5688da6be1bedfe13808ae33/4ea69/deploy-on-github-pages.png 2304w","/static/618fdf7a5688da6be1bedfe13808ae33/bc708/deploy-on-github-pages.png 2338w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    "),(0,o.kt)("p",null,"Once you click save, you should be able to see your site published at the\n",(0,o.kt)("inlineCode",{parentName:"p"},"*.github.io/carbon-tutorial")," link shown on the page."),(0,o.kt)("p",null,"Congratulations! Your work is now hosted on GitHub Pages!"),(0,o.kt)("h2",null,"Submit pull request"),(0,o.kt)("p",null,"That does it! We’re going to submit a pull request to verify completion of this\ntutorial step."),(0,o.kt)("h3",null,"Continuous integration (CI) check"),(0,o.kt)("p",null,"Run the CI check to make sure we’re all set to submit a pull request."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn ci-check\n")),(0,o.kt)(u,{mdxType:"InlineNotification"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," Having issues running the CI check?\n",(0,o.kt)("a",{parentName:"p",href:"/developing/react-tutorial/step-1#continuous-integration-(ci)-check"},"Step 1"),"\nhas troubleshooting notes that may help.")),(0,o.kt)("h3",null,"Git push"),(0,o.kt)("p",null,"Push to your repository:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git push origin v11-react-step-5\n")),(0,o.kt)(u,{mdxType:"InlineNotification"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," Having issues pushing your changes?\n",(0,o.kt)("a",{parentName:"p",href:"/developing/react-tutorial/step-1#git-commit-and-push"},"Step 1")," has\ntroubleshooting notes that may help.")),(0,o.kt)("h3",null,"Pull request (PR)"),(0,o.kt)("p",null,"Finally, visit\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/carbon-design-system/carbon-tutorial"},"carbon-tutorial")," to\n“Compare & pull request”. In doing so, make sure that you are comparing to\n",(0,o.kt)("inlineCode",{parentName:"p"},"v11-react-step-5")," into ",(0,o.kt)("inlineCode",{parentName:"p"},"base: v11-react-step-5"),"."),(0,o.kt)(u,{mdxType:"InlineNotification"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," Expect your tutorial step PRs to be reviewed by the Carbon team but\nnot merged. We’ll close your PR so we can keep the repository’s remote branches\npristine and ready for the next person!")),(0,o.kt)(u,{mdxType:"InlineNotification"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," If your PR fails the CircleCI test with the error\n",(0,o.kt)("inlineCode",{parentName:"p"},"Can't make a request in offline mode"),", try running the following command:\n",(0,o.kt)("inlineCode",{parentName:"p"},"rm -rf .yarn-offline-mirror node_modules && yarn cache clean && yarn install"),".\nAdd and commit the changes once this completes, and try pushing again.")))}b.isMDXComponent=!0}}]);